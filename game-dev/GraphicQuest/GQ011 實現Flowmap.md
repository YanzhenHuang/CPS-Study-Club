# 1.實現Flowmap
甚麼是Flowmap? 實際上可以理解成擁有流動材質的貼圖技術

實際流程 (簡單版):
1. 下載Flowmap Painter, [地址](https://teckartist.com/?page_id=107)
2. 下載以後，軟件會自帶一張水貼圖，以及可調整的向量場界面，嘗試一下軟件功能，繪製 Flowmap
3. 最後按下 "bake" 功能鍵完成 Flowmap
4. 打開Unity，放入製作好的Unity Shader，選取使用貼圖本身以及剛剛生成Flowmap
5. 完成

![](pic/%E8%9E%A2%E5%B9%95%E6%93%B7%E5%8F%96%E7%95%AB%E9%9D%A2%202022-10-24%20101557.png)

# 2.uv mapping 回顧
- 在uv座標中，每一個uv值都代表了在另一個紋理中不同的顏色值(圖)
- 如果整張圖片都使用同一個uv值表示，我們只會採樣另一個紋理圖片的單一顏色(像素)

# 3.1 Flowmap的原理
一張帶有向量場信息的紋理貼圖
- 一個平面上，平面上每一個點都代表一個向量，向量方向為運動方向
- 通過顏色(RG兩種顏色)來記錄向量方向
- 在Shader中偏移uv，對紋理進行探樣，模擬流動效果

# 3.2 Flowmap Shader
怎樣偏移uv?
1. 讓uv隨著時間偏移: uv - time
   - 如果 uv + time 會怎麼樣?
2. 從 flowmap 獲取流動方向
   - 在此之前，要將 flowmap 上的值[0,1]投影到方向向量[-1,1] (把flowmap上的數值*2-1)，記作 flowDir
   - flowDir.xy * time
3. 讓流動無縫循環，把偏移控制在一定的範圍內（隨著時間進行，變形太過誇張）
   - 構造兩個相位差半個週期的波形函數
   - 使用以上這兩個波形函數，製作兩層採樣，用一層的採樣去覆蓋另一層的採樣，做用循環的效果

# 4. 怎麼製作類似的效果(向量場信息)?
在Wallpaper engine中，桌布製作器中擁有可以製作向量場貼圖的功能，我們可以嘗試在Wallpaper engine 製作不同的特效